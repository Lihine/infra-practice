# 네트워크의 기초
## TCP/IP프로토콜
 - 컴퓨터와 컴퓨터 사이에 데이터를 주고받기 위한 통신규약
 - 인터넷: TCP/TP프로토콜에 따라 데이터를 주고 받음
 - TCP(전송), IP(네트워크)

## 5계층
 1. 물리계층: 케이블등 전송매체(구리선, 광케이블, 무선) → 비트
 1. 링크계층: 네으퉈크 장치 드라이버(ARP) → 프레임
 1. 네트워크: 주소관리 및 경로 탐색(IP, ICMP) → 패킷
 1. 전송계층: 응용프로그램으로 데이터 전달, 흐름제어, 전송 신뢰성 담당(TCP, UDP) → 세그먼트
 1. 응용계층: 서비스제공응용프로그램(DNS, FTP, SSH, HTTP) → 메세지

## 주소
 - 일반적으로 네트워크 인터페이스는 이더넷 방식
 - MAC주소, IP, 호스트명

## MAC(media access control)
 - 하드웨어(랜;네트워크 인터페이스 카드)를 위한 주소(이더넷/하드웨어/물리 주소라고도 함)
 - 쌍점(:)/붙임표(-)로 구성되는 여섯개의 16진수

## IP주소
 - 인터넷 주소 = IP(internet protocol)
 - 인터넷으로 연결된 네트워크에서 각 컴퓨터 구분을 위해
 - 1바이트의 크기를 가진 네 자리 숫자로 구성되므로 총 4바이트
 - 네트워크 주소 부분/호스트 주소 부분으로 구분
 - IP는 총 32비트 4바이트 중 몇 비트를 호스트부분으로 사용하는지에 따라 A/B/C클래스로 구분
 - ex) 192.168.100.5 → C클래스 type → 네트워크(192.168.100):호스트(5)

## 넷마스크와 브로드캐스트
 - 넷마스크: IP주소에서 다시 작은 네트워크(=서브넷 마스크)으로 분리할 때 사용 
 - 브로드캐스트주소: 같은 네트워크에 있는 모든 컴퓨터에 메세지를 보낼 때 사용하는 주소로 호스트는 무조건 '1'

## 호스트이름
 - 호스트이름도 IP주소처럼 두 부분으로 구성
 - ex) www.naver.com → naver.com(네트워크 부분) / www(호스트 부분)

## 포트번호
 - 각서비스를 구분하는 번호
 - TCP/IP의 4계층인 전송계층에서 사용하는 번호

## 네트워크를 설정하려면..
 - IP주소, 넷마스크와 브로드캐스트주소, 게이트웨이(라우터), DNS 필요

## 호스트 정보
```uname <옵션>```
### 옵션
 - -m: 하드웨어 종류
 - -h: 호스트이름
 - -r: 운영체제 릴리즈 정보
 - -s: 운영체제 이름
 - -v: 운영체제 버전
 - -a: 위의 모든 정보

## 호스트이름 설정
*반드시 루트계정(su)으로 실행할 것

```hostname <호스트명>```

ex) ``` su-; hostname www.example.org```

## 네트워크 인터페이스 설정
```ifconfig <인터페이스명> <옵션> <값>```
### 옵션
 - -a: 전체 인터페이스 정보 출력
 - up/down: 인터페이스 활성/비활성
 - netmaks 주소: 넷마스크 주소 설정
 - broadcast 주소: 브로드캐스트 주소 설정

## 특정 네트워크 인터페이스 설정확인
```inconfig eth0 <옵션>```

## 네트워크 인터페이스 수동 설정
```ifconfig eth0 192.168.0.1.14 netmask 255.255.255.0 broadcast```

## 게이트웨이 설정
```route <명령>```
### 명령
 - add: 라우팅 경로나 기본게이트웨이 추가
 - del: 라우팅 경로나 기본게이트웨이 삭제

## 기본게이트웨이 설정(추가/삭제)
 - 추가: ```route add default gw 192.168.0.1 dev eth0```
 - 삭제: ```route del default gw 192.168.0.1```

## DNS 설정
 - 호스트명을 IP주소로 바꾸는 일을 수행
 - ex) ```cat /etc/resolv.conf```

## 통신확인
```ping <옵션> 목적지 주소```
### 옵션
 - -a: 통신이 되면 소리내기
 - -q: 테스트결과를 지속적으로 보여주지 않고 종합결과만 보여줌
 - -c: 개수 : 보낼 패킷 수 정하기

## 네트워크 상태정보 출력
```netstat <옵션>```
### 옵션
 - -a: 모든 소켓정보
 - -r: 라우팅 정보
 - -n: 호스트명 대신 IP주소 출력
 - -i: 모든 네트워크 인터페이스 출력

## 현재 열려있는 포트 확인
```netstat -an | grep LISTEN```
